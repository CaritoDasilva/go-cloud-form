{"ast":null,"code":"import _regeneratorRuntime from \"/home/carito/Documentos/go-cloud-form/front/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/carito/Documentos/go-cloud-form/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/home/carito/Documentos/go-cloud-form/front/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/carito/Documentos/go-cloud-form/front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/carito/Documentos/go-cloud-form/front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/carito/Documentos/go-cloud-form/front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/carito/Documentos/go-cloud-form/front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/carito/Documentos/go-cloud-form/front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/carito/Documentos/go-cloud-form/front/src/components/Form.js\";\nimport React, { Component } from \"react\";\nimport FetchStudents from '../firestoreService/Firestore';\nvar url = 'https://us-central1-go-cloud-challenge-be.cloudfunctions.net/api/students';\n/*global firebase*/\n// eslint-disable-next-line no-unused-vars\n// import firestore from \"../firestoreService/Firestore\";\n// import firebase from \"firebase\";\n\nvar Forms =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Forms, _Component);\n\n  function Forms(props) {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Forms);\n\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Forms)).call.apply(_getPrototypeOf2, [this, props].concat(args)));\n\n    _this.updateInput = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    _this.validatorsForm = function (e) {\n      e.preventDefault();\n\n      if (_this.state.fullname === \"\" || _this.state.email === \"\" || _this.state.phone === \"\" || _this.state.rut === \"\") {\n        _this.setState({\n          error: true\n        });\n\n        console.log(\"faltan campos por validar\");\n      } else {\n        _this.setState({\n          error: false\n        });\n\n        _this.addRegister();\n\n        _this.props.createNewRegister([_this.state]);\n      }\n    };\n\n    _this.state = {\n      fullname: \"\",\n      phone: \"\",\n      email: \"\",\n      rut: \"\",\n      error: false\n    };\n    return _this;\n  }\n\n  _createClass(Forms, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      FetchStudents().then(function (students) {\n        console.log(students);\n      });\n    }\n  }, {\n    key: \"addRegister\",\n    value: function () {\n      var _addRegister = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(e) {\n        var _e$target, fullname, phone, email, rut, data;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _e$target = e.target, fullname = _e$target.fullname, phone = _e$target.phone, email = _e$target.email, rut = _e$target.rut;\n                data = {\n                  fullname: this.state.fullname,\n                  phone: this.state.phone,\n                  email: this.state.email,\n                  rut: this.state.rut\n                };\n                _context.next = 4;\n                return fetch(url, {\n                  method: 'POST',\n                  body: JSON.stringify(data)\n                });\n\n              case 4:\n                this.setState({\n                  fullname: \"\",\n                  phone: \"\",\n                  email: \"\",\n                  rut: \"\"\n                });\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function addRegister(_x) {\n        return _addRegister.apply(this, arguments);\n      }\n\n      return addRegister;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var activatedError = this.state.error;\n      return React.createElement(\"form\", {\n        className: \"needs-validation\",\n        noValidate: true,\n        onSubmit: this.validatorsForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-8 col-lg-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-2 col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"Nombre:\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"fullname\",\n        className: \"form-control\",\n        placeholder: \"Ej. Jos\\xE9 Canseco\",\n        required: true,\n        minLength: \"3\",\n        onChange: this.updateInput,\n        value: this.state.fullname,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-sm-8 col-lg-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-4 col-lg-2 col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"Tel\\xE9fono:\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"phone\",\n        className: \"form-control\",\n        placeholder: \"Ej. +569 3772 9376\",\n        required: true,\n        minLength: \"10\",\n        title: \"Debe ser un Tel\\xE9fono v\\xE1lido\",\n        onChange: this.updateInput,\n        value: this.state.phone,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-8 col-lg-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-4 col-lg-2 col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"Correo:\"), React.createElement(\"input\", {\n        type: \"email\",\n        name: \"email\",\n        className: \"form-control\",\n        placeholder: \"Ej. correo@gmail.com\",\n        required: true,\n        onChange: this.updateInput,\n        value: this.state.email,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-sm-8 col-lg-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-4 col-lg-2 col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"Rut:\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"rut\",\n        className: \"form-control\",\n        placeholder: \"Ej. 26.492.283-1\",\n        required: true,\n        pattern: \"\\\\d{3,8}-[\\\\d|kK]{1}\",\n        title: \"Debe ser un Rut v\\xE1lido\",\n        onChange: this.updateInput,\n        value: this.state.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-8 col-lg-10 submitbtn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-lg btn-block text-white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, \"Inscribirse\")))), activatedError ? React.createElement(\"div\", {\n        className: \"col-8 alert alert-danger text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"Todos los campos son obligatorios\") : \"\");\n    }\n  }]);\n\n  return Forms;\n}(Component);\n\nexport default Forms;","map":{"version":3,"sources":["/home/carito/Documentos/go-cloud-form/front/src/components/Form.js"],"names":["React","Component","FetchStudents","url","Forms","props","args","updateInput","e","setState","target","name","value","validatorsForm","preventDefault","state","fullname","email","phone","rut","error","console","log","addRegister","createNewRegister","then","students","data","fetch","method","body","JSON","stringify","activatedError","id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport FetchStudents from '../firestoreService/Firestore';\n\n\nconst url = 'https://us-central1-go-cloud-challenge-be.cloudfunctions.net/api/students';\n/*global firebase*/\n// eslint-disable-next-line no-unused-vars\n// import firestore from \"../firestoreService/Firestore\";\n// import firebase from \"firebase\";\n\nclass Forms extends Component {\n  constructor(props, ...args) {\n    super(props, ...args);\n    this.state = {\n      fullname: \"\",\n      phone: \"\",\n      email: \"\",\n      rut: \"\",\n      error: false\n    };\n\n  }\n\n  componentDidMount() {\n    FetchStudents().then(students => {\n      console.log(students);\n    });\n  }\n\n  updateInput = e => {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  };\n\n  async addRegister(e) {\n    const { fullname, phone, email, rut } = e.target\n    const data = {\n      fullname: this.state.fullname,\n      phone: this.state.phone,\n      email: this.state.email,\n      rut: this.state.rut\n    }\n    await fetch(url, {\n      method: 'POST',\n      body: JSON.stringify(data)\n    })\n    this.setState({\n      fullname: \"\",\n      phone: \"\",\n      email: \"\",\n      rut: \"\"\n    });\n  }\n\n  validatorsForm = e => {\n    e.preventDefault();\n    if (\n      this.state.fullname === \"\" ||\n      this.state.email === \"\" ||\n      this.state.phone === \"\" ||\n      this.state.rut === \"\"\n    ) {\n      this.setState({ error: true });\n      console.log(\"faltan campos por validar\");\n    } else {\n      this.setState({ error: false });\n      this.addRegister();\n      this.props.createNewRegister([this.state]);\n    }\n  };\n  render() {\n    const activatedError = this.state.error;\n    return (\n      <form\n        className=\"needs-validation\"\n        noValidate\n        onSubmit={this.validatorsForm}\n      >\n        <div className=\"form-group\">\n          <div className=\"row\">\n            <div className=\"col-sm-8 col-lg-5\">\n              <label className=\"col-2 col-form-label\">Nombre:</label>\n              <input\n                type=\"text\"\n                name=\"fullname\"\n                className=\"form-control\"\n                placeholder=\"Ej. José Canseco\"\n                required\n                minLength=\"3\"\n                onChange={this.updateInput}\n                value={this.state.fullname}\n              />\n            </div>\n\n            <div className=\"col-sm-8 col-lg-5\">\n              <label className=\"col-sm-4 col-lg-2 col-form-label\">\n                Teléfono:\n              </label>\n              <input\n                type=\"text\"\n                name=\"phone\"\n                className=\"form-control\"\n                placeholder=\"Ej. +569 3772 9376\"\n                required\n                minLength=\"10\"\n                title=\"Debe ser un Teléfono válido\"\n                onChange={this.updateInput}\n                value={this.state.phone}\n              />\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-sm-8 col-lg-5\">\n              <label className=\"col-sm-4 col-lg-2 col-form-label\">\n                Correo:\n              </label>\n              <input\n                type=\"email\"\n                name=\"email\"\n                className=\"form-control\"\n                placeholder=\"Ej. correo@gmail.com\"\n                required\n                onChange={this.updateInput}\n                value={this.state.email}\n              />\n            </div>\n            <div className=\"col-sm-8 col-lg-5\">\n              <label className=\"col-sm-4 col-lg-2 col-form-label\">Rut:</label>\n              <input\n                type=\"text\"\n                name=\"rut\"\n                className=\"form-control\"\n                placeholder=\"Ej. 26.492.283-1\"\n                required\n                pattern=\"\\d{3,8}-[\\d|kK]{1}\"\n                title=\"Debe ser un Rut válido\"\n                onChange={this.updateInput}\n                value={this.state.id}\n              />\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-sm-8 col-lg-10 submitbtn\">\n              <button type=\"submit\" className=\"btn btn-lg btn-block text-white\">\n                Inscribirse\n              </button>\n            </div>\n          </div>\n        </div>\n        {activatedError ? (\n          <div className=\"col-8 alert alert-danger text-center\">\n            Todos los campos son obligatorios\n          </div>\n        ) : (\n            \"\"\n          )}\n      </form>\n    );\n  }\n}\n\nexport default Forms;\n"]},"metadata":{},"sourceType":"module"}